
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Balanced - Payments processing, escrow, and payouts in one simple
        API</title>
    <link rel="shortcut icon"
          href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB50RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNS4xqx9I6wAAAStJREFUWIXtlT1SwzAQRp+YHMAeGsrcIGlc4yukpDHODaBLF6dzB5yAkIYyOYJSu/INUtIw9g1MgZhhZJlITogbfZ12Pu2+0c+uaJqGIXU1aHUP4AGAkR4QQlDF0Rh4BWKgBl5CWWQuiRebyROQAgEggXmelAf913WdwFYVRyVYVnGUOhRPgQe1F5Vra/K2AKo4CoCpwXtvC9DhnS42k/FRgD9Un+rNk/JwFCCURc33nel6cwAweXcmY9cJzICVApHALJSFMYFJeVLuVI6f/c/A3OQV+qsUQtjW6SXbX3AxeQAP4AFa09BWH+/XGXCrlvubu8+sT55ejUgVX2rhlQ3EuRqRadq5TMuTAQLL2L8BmAaT9bA6B8AjsP61XquYs1qP8NIavA94AA/wBRJiTbdsTuB4AAAAAElFTkSuQmCC"
          type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../../../static/css/styles.css" rel="stylesheet">
    <!--<link href="static/css/pygments.css" rel="stylesheet">-->
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>

   <!-- <script src="static/js/html5shiv.js"></script> -->
    <![endif]-->
</head>

<body data-spy="scroll" data-target=".sidebar-nav" data-offset="300" >

<div id='light-box' style="display: none"></div>
<header class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <div class="row">
        <div class="logo">
          <a class="brand" href="https://www.balancedpayments.com"></a>
        </div>
        <div class="span12">
          <ul class="nav nav-api-version">
	    <li>
	      <a>Balanced Documentation</a>
	    </li>
	  </ul>
	  <ul id="version-selector" class="nav nav-api-version" style="display:none">
            <li class="dropdown">
              <a class="dropdown-toggle version api-version" data-toggle="dropdown" id="version-dropdown-head">version 1.0 <b class="caret"></b></a>
	      <ul class="dropdown-menu version">
		      <li><a class="version-change" data-version="0" href="/rev0/overview">version 1.0</a></li>
		      <li><a class="version-change" data-version="1" href="/rev1/overview">version 1.1</a></li>
	      </ul>
            </li>
	  </ul>
        </div>
        <ul class="nav nav-links pull-right">
          <li>
            <a href="https://www.balancedpayments.com/help">Help</a>
          </li>
          <li>
            <a href="https://dashboard.balancedpayments.com">Sign In</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>
<header class="navbar navbar-fixed-top navbar-clients-search">
  <div class="navbar-inner">
    <div class="container">
      <div class="row">
        <div class="span5">
          <ul class="nav nav-api-clients">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle lang" id='lang-dropdown-head' data-toggle="dropdown">CURL <b class="caret"></b></a>
              <ul class="dropdown-menu lang">
                <li><a class='lang-change' data-lang='ruby' href="#">Ruby</a></li>
                <li><a class='lang-change' data-lang='python' href="#">Python</a></li>
                <li><a class='lang-change' data-lang='php' href="#">PHP</a></li>
                <li><a class='lang-change' data-lang='java' href="#">Java</a></li>
                <li><a class='lang-change' data-lang='bash' href="#">CURL</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <ul class="nav nav-search span21" id="search-section">
          <li>
            <form>
              <input type="text" id="search" maxlength="255" placeholder="Search" />
            </form>
            <div class="dropdown">
                <ul id="search-dropdown" class="dropdown-menu span21 search">
                </ul>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>

<div class="api-version-revZ">
  
  

<div class="container content" id="overview-content">
    <div class="row">

        <!-- The side bar menu -->
        <div class="span5 context-sidebar">
            <div class="sidebar-nav" data-spy="affix">
                <div class="row">
                    <div class="span5">

                        <!-- The navigation menu -->
                        <div class="overview-api">
                          <ul class="simple" id='context-selector'>
                            <li class="active">
                                <a href='overview.html'>Overview</a>
                            </li>
                            <li>
                                <a href='api.html'>API Reference</a>
                            </li>
                            <li>
                                <a href="https://support.balancedpayments.com/hc/en-us">FAQs</a>
                            </li>
                          </ul>
                        </div>

                        <!-- The table of contents menu -->
                        <ul class="nav nav-list context-navlist">
<li class="toctree-l1">Overview<ul>
<li class="toctree-l2"><a class="reference internal" href="#client-libraries">Client Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-cases">Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="#github-discussions">Github Discussions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#certified-developers">Certified Developers</a></li>
</ul>
</li>
<li class="toctree-l1">Getting Started<ul>
<li class="toctree-l2"><a class="reference internal" href="#balanced-js">Balanced.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collecting-credit-card-information">Collecting credit card information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#charge-a-credit-card">Charge a credit card</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collect-bank-account-info">Collect bank account info</a></li>
<li class="toctree-l2"><a class="reference internal" href="#credit-a-bank-account">Credit a bank account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#balanced-js-card-reference">Balanced.js Card Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#balanced-js-bankaccount-reference">Balanced.js BankAccount Reference</a></li>
</ul>
</li>
<li class="toctree-l1">Best Practices<ul>
<li class="toctree-l2"><a class="reference internal" href="#use-balanced-js">Use balanced.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reducing-declined-transactions">Reducing Declined Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#catching-fraud-early">Catching Fraud Early</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reducing-payout-delays">Reducing Payout Delays</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-meta">Use Meta</a></li>
<li class="toctree-l2"><a class="reference internal" href="#store-uris">Store URIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-help">Getting Help</a></li>
</ul>
</li>
<li class="toctree-l1">Processing<ul>
<li class="toctree-l2"><a class="reference internal" href="#debits">Debits</a></li>
<li class="toctree-l2"><a class="reference internal" href="#refunds">Refunds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#holds">Holds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transaction-limits">Transaction Limits</a></li>
</ul>
</li>
<li class="toctree-l1">Balanced Payouts<ul>
<li class="toctree-l2"><a class="reference internal" href="#credits">Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="#credit-s-status-field">Credit's Status Field</a></li>
<li class="toctree-l2"><a class="reference internal" href="#payout-methods">Payout Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#canceling-credits">Canceling Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-funding-your-account">Pre-funding Your Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submission-delivery-times">Submission &amp; Delivery times</a></li>
</ul>
</li>
<li class="toctree-l1">Pricing and fees<ul>
<li class="toctree-l2"><a class="reference internal" href="#payout-pricing">Payout Pricing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#processing-pricing">Processing Pricing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#invoicing-fees">Invoicing fees</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funds-flow">Funds Flow</a></li>
</ul>
</li>
<li class="toctree-l1">Resources<ul>
<li class="toctree-l2"><a class="reference internal" href="#test-credit-card-numbers">Test credit card numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-bank-account-numbers">Test bank account numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-identity-verification">Test identity verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#request-logs">Request Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-hash-attribute">The Hash Attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#address-verification-service">Address Verification Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#card-security-code">Card Security Code</a></li>
</ul>
</li>
</ul>

                        


                    </div>
                </div>
            </div>
        </div>

        <!-- The actual overview content -->
        <div id="context-content" class="span20 offset1">
            
  <section id="marketplaces">
<span id="id1"></span><h1>Marketplaces<a class="headerlink" href="#marketplaces" title="Permalink to this headline">∵</a></h1>
<p>Running a successful marketplaces typically requires combinations of both
<a class="reference internal" href="../processing/#processing"><em>Processing</em></a>, accepting credit cards, and <a class="reference internal" href="../payouts/#payouts"><em>Balanced Payouts</em></a>, paying out your
sellers and service providers. When those two disjoint services are coupled
as a means to collect money on behalf of someone else, i.e. a seller or
service provider, then that classifies as <em class="xref std std-term">aggregation</em> - something that
all the credit card networks such as Visa, American Express, MasterCard, etc.
frown upon and causes risk of merchant account termination, consequently,
leaving your business without a way to process online transactions.</p>
<div class="alert alert-info  admonition note">
note</div>
<div>
From here on out, we will refer to your seller / service provider as a
<strong>merchant</strong>. Learn more about <em class="xref std std-term">merchants</em>.</div>
<p>Balanced allows you to mitigate this risk by exposing a programmatic merchant
underwriting API to easily create merchant accounts. Most merchants will
never have to leave your site. This makes it easy to accept payments on behalf
of your merchants, while keeping your accounting sane.</p>
<p>Let's get started!</p>
<hr>
<section id="merchant-underwriting">
<h2>Merchant Underwriting<a class="headerlink" href="#merchant-underwriting" title="Permalink to this headline">∵</a></h2>
<p>Underwriting merchants involves every merchant to go through Know Your Customer
(KYC) regulations, which is required by the U.S. government for purposes of
Anti-Money Laundering (AML). This process is generally simple, and for most
merchants requires very little information.</p>
<section id="collecting-merchant-information">
<h3>Collecting Merchant Information<a class="headerlink" href="#collecting-merchant-information" title="Permalink to this headline">∵</a></h3>
</section><section id="sign-up-process-api">
<h3>Sign-up process (API)<a class="headerlink" href="#sign-up-process-api" title="Permalink to this headline">∵</a></h3>
<p>Collecting merchant information requires slightly different information
depending on if the merchant is being underwritten as a person or as a
business.</p>
<section id="person">
<h4>Person<a class="headerlink" href="#person" title="Permalink to this headline">∵</a></h4>
<div class="request">
<p>Request</p>
<div class="highlight-bash"><div class="highlight"><pre>curl https://api.balancedpayments.com/v1/marketplaces/TEST-MP3fIltERZtqjivPZDPzs2zE/accounts <span class="se">\</span>
        -u ak-test-VDVH8kXXRHQ71VkOJqOwMEUQi8aVKqng: <span class="se">\</span>
        -d <span class="s2">&quot;merchant[phone_number]=+14089999999&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[name]=Timmy Q. CopyPasta&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[dob]=1989-12&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[postal_code]=94110&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[type]=person&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[street_address]=121 Skriptkid Row&quot;</span>
</pre></div>
</div>
</div>
</section><section id="business">
<h4>Business<a class="headerlink" href="#business" title="Permalink to this headline">∵</a></h4>
<div class="request">
<p>Request</p>
<div class="highlight-bash"><div class="highlight"><pre>curl https://api.balancedpayments.com/v1/marketplaces/TEST-MP3fIltERZtqjivPZDPzs2zE/accounts <span class="se">\</span>
        -u ak-test-VDVH8kXXRHQ71VkOJqOwMEUQi8aVKqng: <span class="se">\</span>
        -d <span class="s2">&quot;merchant[phone_number]=+140899188155&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[name]=Skripts4Kids&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[postal_code]=91111&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[type]=business&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[street_address]=555 VoidMain Road&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[tax_id]=211111111&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[person[phone_number]]=+14089999999&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[person[dob]]=1989-12&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[person[postal_code]]=94110&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[person[name]]=Timmy Q. CopyPasta&quot;</span> <span class="se">\</span>
        -d <span class="s2">&quot;merchant[person[street_address]]=121 Skriptkid Row&quot;</span>
</pre></div>
</div>
</div>
</section></section><section id="on-success-201-created">
<h3>On Success (201 CREATED)<a class="headerlink" href="#on-success-201-created" title="Permalink to this headline">∵</a></h3>
<p>If identification and verification was successful, Balanced will return
a <strong>201</strong> status code</p>
</section><section id="on-failure-300-multiple-choices">
<h3>On Failure (300 MULTIPLE CHOICES)<a class="headerlink" href="#on-failure-300-multiple-choices" title="Permalink to this headline">∵</a></h3>
<p>Occasionally, the information passed to Balanced for merchant underwriting will
be insufficient to identify them, and Balanced will return a <strong>300</strong> status
code.</p>
<p>We specifically return <strong>300</strong> status code because you have multiple choices
-- you may either re-submit the original request along with more identifying
information (e.g. <span class="docutils literal"><code>tax_id</code></span>), <strong>or</strong> you may redirect the user to the
location specified in the redirect, where Balanced will ask for more
information to verify the user's identity with state and federal databases.</p>
<p>If you choose to submit more information, then simply repeat the above
flow with corrected or additional information.</p>
<p>However, if you choose to redirect them for Balanced to underwrite them, the
following section will alleviate the process.</p>
<section id="redirect">
<h4>Redirect<a class="headerlink" href="#redirect" title="Permalink to this headline">∵</a></h4>
<p>The location you may redirect the user to is stored in the <span class="docutils literal"><code>Location</code></span>
header in the response to your request. You must include a
<span class="docutils literal"><code>redirect_uri</code></span> parameter along with the original URL so Balanced knows where
to return the user to once they have completed the underwriting process.</p>
<p>Additionally, you may pre-fill the form for the user by encoding the
original JSON payload as query string parameters.</p>
<p>The encoding should follow the form of <span class="docutils literal"><code>merchant[key]=value</code></span> e.g.:</p>
<div class="highlight-javascript"><pre>?merchant[type]=business&amp;email_address=merchant@example.org&amp;merchant[phone_number]=9046281796&amp;redirect_uri=https://yoursite.com/verify</pre>
</div>
</section><section id="handling-redirect-response">
<h4>Handling Redirect Response<a class="headerlink" href="#handling-redirect-response" title="Permalink to this headline">∵</a></h4>
<p>After the user has been redirected to Balanced and if the merchant was
successfully underwritten, Balanced will redirect the user to your specified
<span class="docutils literal"><code>redirect_uri</code></span> with <strong>two</strong> parameters appended as query strings.</p>
<p>Those are <span class="docutils literal"><code>email_address</code></span> and <span class="docutils literal"><code>merchant_uri</code></span>.</p>
<div class="alert alert-info  admonition note">
note</div>
<div>
You <strong>MUST</strong> submit these two parameters to successfully create the merchant
account.</div>
</section></section></section><hr>
<section id="simulating-verified-with-customers">
<h2>Simulating verified with customers<a class="headerlink" href="#simulating-verified-with-customers" title="Permalink to this headline">∵</a></h2>
<p>With the new customer resource, you can submit a name, date of birth and postal
code and the is_validated flag will be set to true in a test marketplace.  If
you set the name parameter to nothing, then the is_validated flag will be set to
false.</p>
<p>This will create a customer object with the is_identity_verified flag true</p>
<div class="highlight-bash"><div class="highlight"><pre>curl -u 227d0356d9f311e29803026ba7d31e6f: https://api.balancedpayments.com/v1/customers <span class="se">\</span>
-d <span class="s2">&quot;name=Henry Ford&quot;</span> <span class="se">\</span>
-d <span class="s2">&quot;dob=1863-07&quot;</span> <span class="se">\</span>
-d <span class="s2">&quot;address[postal_code]=48120&quot;</span>
</pre></div>
</div>
<p>This will set the is_identity_verified flag on an existing customer from true to false</p>
<div class="highlight-bash"><div class="highlight"><pre>curl -u 227d0356d9f311e29803026ba7d31e6f: https://api.balancedpayments.com/v1/customers/CU2kaisGxbyDuyWiNg3NjeAu <span class="se">\</span>
-d <span class="s2">&quot;name=&quot;</span>
</pre></div>
</div>
</section><hr>
<section id="associating-debits-with-a-merchant">
<h2>Associating debits with a merchant<a class="headerlink" href="#associating-debits-with-a-merchant" title="Permalink to this headline">∵</a></h2>
<p>In order to stay compliant and to provide evidence that you're not aggregating,
when charging cards on your marketplace, all associated charges should be done
on behalf of the merchant. You must associate charges with the merchant's
account - this is very easy, simply pass the merchant account's <span class="docutils literal"><code>uri</code></span> via
the <span class="docutils literal"><code>on_behalf_of</code></span> parameter on the charge you're issuing.</p>
<p>The benefits of this are clearly obvious - in order to determine how much money
you owe a specific merchant, you can easily query and all the outstanding debits
tied to this merchant and subtract the payouts you've already done to the
merchant.</p>
<p>This dramatically simplifies your book-keeping and allows Balanced to take
care of most of the accounting work -- like end of year taxes, reserves, cash
flow, and operating capital.</p>
</section></section><hr>

</div>

    </div>
</div>

</div>

<!--#include file="footer.html" -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<!--script type="text/javascript" src="static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="static/js/lunr.min.js"></script>
<script type="text/javascript" src="static/js/jquery.scrollTo-min.js"></script>
<script type="text/javascript" src="static/js/search.js"></script>
<script type="text/javascript" src="static/js/docs.js"></script-->
<script type="text/javascript" src="../../../static/js/compiled.js"></script>
</body>
</html>